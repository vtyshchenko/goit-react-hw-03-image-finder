(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{15:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3L0sA",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1ow8p"}},16:function(e,t,n){e.exports={ButtonWrapper:"Button_ButtonWrapper__33HL5",Button:"Button_Button__2BYYQ"}},17:function(e,t,n){e.exports={Overlay:"Modal_Overlay__21j6m",Modal:"Modal_Modal__32mLz"}},29:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__2s6Dc"}},30:function(e,t,n){e.exports={button:"ButtonClose_button__B7xQg"}},34:function(e,t,n){e.exports={text:"Loader_text__NpEM5"}},40:function(e,t,n){},41:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),c=n.n(o),i=(n(40),n(19)),s=n(4),l=n(5),u=n(6),h=n(8),d=n(7),m=n(13),f=(n(20),n(41),n(9)),g=n.n(f),p=n(1),b={searchText:""},j=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state=Object(s.a)({},b),e.reset=function(){e.setState(Object(s.a)({},b))},e.handleSubmit=function(t){t.preventDefault();var n=e.state.searchText;""!==e.state.searchText.trim()?(e.props.onSubmit({searchText:n}),e.reset()):m.b.error("Input search text!")},e.handleChange=function(t){e.setState({searchText:t.target.value.toLowerCase()})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.searchText;return Object(p.jsx)("header",{className:g.a.searchbar,children:Object(p.jsxs)("form",{onSubmit:this.handleSubmit,className:g.a.form,children:[Object(p.jsx)("button",{type:"submit",className:g.a.formButton,children:Object(p.jsx)("span",{className:g.a.formButtonLabel,children:"Search"})}),Object(p.jsx)("input",{className:g.a.formInput,type:"text",autoComplete:"off",autoFocus:!0,value:e,placeholder:"Search images and photos",onChange:this.handleChange})]})})}}]),n}(a.Component),O=j,v=n(29),x=n.n(v),y=n(15),w=n.n(y);var I=function(e){var t=e.galleryItem,n=e.onClick;return Object(p.jsx)("li",{className:w.a.ImageGalleryItem,children:Object(p.jsx)("img",{id:t.id,className:w.a.ImageGalleryItemImage,src:t.webformatURL,alt:t.tags,width:t.previewWidth,height:t.previewHeight,onClick:n})})};var _=function(e){var t=e.imageList,n=e.onClick;return Object(p.jsx)("ul",{className:x.a.ImageGallery,children:t.map((function(e){return Object(p.jsx)(I,{galleryItem:e,onClick:n},e.id.toString())}))})},C=n(16),k=n.n(C);var L=function(e){var t=e.onClick;return Object(p.jsx)("div",{className:k.a.ButtonWrapper,children:Object(p.jsx)("button",{className:k.a.Button,type:"button",onClick:t,children:"Load more ..."})})},S=n(35),B=n(30),M=n.n(B),N=["children","onClick"],T=function(e){var t=e.children,n=e.onClick,a=Object(S.a)(e,N);return Object(p.jsx)("button",Object(s.a)(Object(s.a)({type:"button",className:M.a.button,onClick:n},a),{},{children:t}))};T.defaultProps={onClick:function(){return null},children:null};var E=T,G=n(17),F=n.n(G),R=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).hendleKeyDown=function(t){switch(t.code){case"Esc":case"Escape":e.props.onClose();break;case"Left":case"ArrowLeft":e.props.onLeft();break;case"Right":case"ArrowRight":e.props.onRight()}},e.hendleOverlayClick=function(t){t.target===t.currentTarget&&e.props.onClose({})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.hendleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.hendleKeyDown)}},{key:"render",value:function(){return Object(p.jsx)("div",{className:F.a.Overlay,onClick:this.hendleOverlayClick,children:Object(p.jsx)("div",{className:F.a.Modal,children:this.props.children})})}}]),n}(a.Component),P=R,A=n(18),D=n.n(A),H=n(31),W=n(32),z=n.n(W),K="https://pixabay.com/api/?image_type=photo&orientation=horizontal",U="23423301-88813f09fe7b27f5f83c66d56";function q(){return(q=Object(H.a)(D.a.mark((function e(t,n,a){var r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",Promise.resolve(""));case 2:return r="".concat(K,"&q=").concat(t,"&page=").concat(n,"&per_page=").concat(a,"&key=").concat(U),e.abrupt("return",z.a.get(r).then((function(e){if(200===e.status){if(e.data.hits.length>0)return e.data.hits;throw new Error('Images for search "'.concat(t,'" not found.'))}throw new Error('Images for search "'.concat(t,'" not found.'))})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=function(e,t,n){return q.apply(this,arguments)},Q=n(33),V=n.n(Q),Y=n(34),X=n.n(Y);var Z,$,ee=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(V.a,{type:"Circles",color:"#00BFFF",height:60,width:60}),Object(p.jsx)("h2",{className:X.a.text,children:"Loading..."})]})},te=["title","titleId"];function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ne.apply(this,arguments)}function ae(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function re(e,t){var n=e.title,r=e.titleId,o=ae(e,te);return a.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,Z||(Z=a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),$||($=a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))}var oe=a.forwardRef(re),ce=(n.p,{status:"idle",showModal:!1,findText:"",images:[],currImg:0,page:0}),ie=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state=Object(s.a)({},ce),e.reset=function(){e.setState(Object(s.a)({},ce))},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.handleGetImages=function(t){var n=t.searchText,a=n?0:e.state.page,r=n?n.toLowerCase().trim():e.state.findText,o=e.state.findText&&e.state.findText!==r?[]:e.state.images;e.setState({status:"pending",images:o,findText:r,page:a}),J(r,e.state.page+1,12).then((function(t){e.setState((function(e){return{status:"resolved",images:[].concat(Object(i.a)(e.images),Object(i.a)(t)),page:e.page+1}})),e.state.page>1&&window.scrollBy({top:document.documentElement.clientHeight-260,behavior:"smooth"})})).catch((function(){e.setState({status:"rejected"})}))},e.handleClick=function(t){var n=e.state.images,a=n.filter((function(e){return e.id===Number(t.target.attributes.id.nodeValue)}));e.setState({currImg:n.indexOf(a[0])}),a.length>0&&e.toggleModal(a[0])},e.handleRight=function(){var t=e.state,n=t.images,a=t.currImg;e.setState({currImg:a===n.length-1?0:a+1})},e.handleLeft=function(){var t=e.state,n=t.images,a=t.currImg;e.setState({currImg:0===a?n.length-1:a-1})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.showModal,n=e.currImg,a=e.images,r=e.findText,o=e.status,c="resolved"===o||"pending"===o;return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(O,{onSubmit:this.handleGetImages}),"rejected"===o&&Object(p.jsxs)("p",{children:["Error. No images were found for your query: ",r,"..."]}),c&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(_,{imageList:a,onClick:this.handleClick}),"pending"===o?Object(p.jsx)(ee,{}):Object(p.jsx)(L,{onClick:this.handleGetImages})]}),t&&Object(p.jsxs)(P,{onClose:this.toggleModal,onLeft:this.handleLeft,onRight:this.handleRight,children:[Object(p.jsx)(E,{onClick:this.toggleModal,"aria-label":"Close modal window",children:Object(p.jsx)(oe,{fill:"black"})}),Object(p.jsx)("img",{src:a[n].largeImageURL,alt:a[n].tags})]}),Object(p.jsx)(m.a,{autoClose:3e3})]})}}]),n}(a.Component),se=ie,le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))};c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(se,{})}),document.getElementById("root")),le()},9:function(e,t,n){e.exports={searchbar:"SearchBar_searchbar__37okL",form:"SearchBar_form__2ZMxt",formbutton:"SearchBar_formbutton__2uVe_",formbuttonLabel:"SearchBar_formbuttonLabel__bXxpp",formInput:"SearchBar_formInput__2cPwH"}}},[[82,1,2]]]);
//# sourceMappingURL=main.4eeba8e2.chunk.js.map