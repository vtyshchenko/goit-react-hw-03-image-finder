(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{15:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3L0sA",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1ow8p"}},16:function(e,t,a){e.exports={ButtonWrapper:"Button_ButtonWrapper__33HL5",Button:"Button_Button__2BYYQ"}},17:function(e,t,a){e.exports={Overlay:"Modal_Overlay__21j6m",Modal:"Modal_Modal__32mLz"}},29:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2s6Dc"}},30:function(e,t,a){e.exports={button:"ButtonClose_button__B7xQg"}},34:function(e,t,a){e.exports={text:"Loader_text__NpEM5"}},40:function(e,t,a){},41:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),c=a.n(o),s=(a(40),a(19)),i=a(4),l=a(5),u=a(6),h=a(8),d=a(7),f=a(13),m=(a(20),a(41),a(9)),g=a.n(m),p=a(1),b={searchText:""},j=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state=Object(i.a)({},b),e.reset=function(){e.setState(Object(i.a)({},b))},e.handleSubmit=function(t){t.preventDefault();var a=e.state.searchText;""!==e.state.searchText.trim()?(e.props.onSubmit({searchText:a}),e.reset()):f.b.error("Input search text!")},e.handleChange=function(t){e.setState({searchText:t.target.value.toLowerCase()})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.searchText;return Object(p.jsx)("header",{className:g.a.searchbar,children:Object(p.jsxs)("form",{onSubmit:this.handleSubmit,className:g.a.form,children:[Object(p.jsx)("button",{type:"submit",className:g.a.formButton,children:Object(p.jsx)("span",{className:g.a.formButtonLabel,children:"Search"})}),Object(p.jsx)("input",{className:g.a.formInput,type:"text",autoComplete:"off",autoFocus:!0,value:e,placeholder:"Search images and photos",onChange:this.handleChange})]})})}}]),a}(n.Component),O=j,v=a(29),x=a.n(v),y=a(15),w=a.n(y);var I=function(e){var t=e.galleryItem,a=e.onClick;return Object(p.jsx)("li",{className:w.a.ImageGalleryItem,children:Object(p.jsx)("img",{id:t.id,className:w.a.ImageGalleryItemImage,src:t.webformatURL,alt:t.tags,width:t.previewWidth,height:t.previewHeight,onClick:a})})};var _=function(e){var t=e.imageList,a=e.onClick;return Object(p.jsx)("ul",{className:x.a.ImageGallery,children:t.map((function(e){return Object(p.jsx)(I,{galleryItem:e,onClick:a},e.id.toString())}))})},C=a(16),k=a.n(C);var L=function(e){var t=e.onClick;return Object(p.jsx)("div",{className:k.a.ButtonWrapper,children:Object(p.jsx)("button",{className:k.a.Button,type:"button",onClick:t,children:"Load more ..."})})},S=a(35),B=a(30),M=a.n(B),N=["children","onClick"],T=function(e){var t=e.children,a=e.onClick,n=Object(S.a)(e,N);return Object(p.jsx)("button",Object(i.a)(Object(i.a)({type:"button",className:M.a.button,onClick:a},n),{},{children:t}))};T.defaultProps={onClick:function(){return null},children:null};var G=T,E=a(17),F=a.n(E),R=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).hendleKeyDown=function(t){switch(t.code){case"Esc":case"Escape":e.props.onClose();break;case"Left":case"ArrowLeft":e.props.onLeft();break;case"Right":case"ArrowRight":e.props.onRight()}},e.hendleOverlayClick=function(t){t.target===t.currentTarget&&e.props.onClose({})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.hendleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.hendleKeyDown)}},{key:"render",value:function(){return Object(p.jsx)("div",{className:F.a.Overlay,onClick:this.hendleOverlayClick,children:Object(p.jsx)("div",{className:F.a.Modal,children:this.props.children})})}}]),a}(n.Component),P=R,A=a(18),D=a.n(A),W=a(31),z=a(32),H=a.n(z),K="https://pixabay.com/api/?image_type=photo&orientation=horizontal",U="23423301-88813f09fe7b27f5f83c66d56";function q(){return(q=Object(W.a)(D.a.mark((function e(t,a,n){var r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",Promise.resolve(""));case 2:return r="".concat(K,"&q=").concat(t,"&page=").concat(a,"&per_page=").concat(n,"&key=").concat(U),e.abrupt("return",H.a.get(r).then((function(e){if(200===e.status){if(e.data.hits.length>0)return e.data.hits;throw new Error('Images for search "'.concat(t,'" not found.'))}throw new Error('Images for search "'.concat(t,'" not found.'))})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=function(e,t,a){return q.apply(this,arguments)},Q=a(33),V=a.n(Q),Y=a(34),X=a.n(Y);var Z,$,ee=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(V.a,{type:"Circles",color:"#00BFFF",height:60,width:60}),Object(p.jsx)("h2",{className:X.a.text,children:"Loading..."})]})},te=["title","titleId"];function ae(){return ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ae.apply(this,arguments)}function ne(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function re(e,t){var a=e.title,r=e.titleId,o=ne(e,te);return n.createElement("svg",ae({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},o),a?n.createElement("title",{id:r},a):null,Z||(Z=n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),$||($=n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))}var oe=n.forwardRef(re),ce=(a.p,{status:"idle",showModal:!1,findText:"",images:[],currImg:0,page:0}),se=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state=Object(i.a)({},ce),e.reset=function(){e.setState(Object(i.a)({},ce))},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.handleGetImages=function(t){var a=t.searchText,n=a?0:e.state.page,r=a?a.toLowerCase().trim():e.state.findText,o=e.state.findText&&e.state.findText!==r?[]:e.state.images;e.setState({status:"pending",images:o,findText:r,page:n}),J(r,e.state.page+1,12).then((function(t){e.setState((function(e){return{status:"resolved",images:[].concat(Object(s.a)(e.images),Object(s.a)(t)),page:e.page+1}}))})).catch((function(){e.setState({status:"rejected"})}))},e.handleClick=function(t){var a=e.state.images,n=a.filter((function(e){return e.id===Number(t.target.attributes.id.nodeValue)}));e.setState({currImg:a.indexOf(n[0])}),n.length>0&&e.toggleModal(n[0])},e.handleRight=function(){var t=e.state,a=t.images,n=t.currImg;e.setState({currImg:n===a.length-1?0:n+1})},e.handleLeft=function(){var t=e.state,a=t.images,n=t.currImg;e.setState({currImg:0===n?a.length-1:n-1})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.showModal,a=e.currImg,n=e.images,r=e.findText,o=e.status,c="resolved"===o||"pending"===o;return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(O,{onSubmit:this.handleGetImages}),"rejected"===o&&Object(p.jsxs)("p",{children:["Error. No images were found for your query: ",r,"..."]}),c&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(_,{imageList:n,onClick:this.handleClick}),"pending"===o?Object(p.jsx)(ee,{}):Object(p.jsx)(L,{onClick:this.handleGetImages})]}),t&&Object(p.jsxs)(P,{onClose:this.toggleModal,onLeft:this.handleLeft,onRight:this.handleRight,children:[Object(p.jsx)(G,{onClick:this.toggleModal,"aria-label":"Close modal window",children:Object(p.jsx)(oe,{fill:"black"})}),Object(p.jsx)("img",{src:n[a].largeImageURL,alt:n[a].tags})]}),Object(p.jsx)(f.a,{autoClose:3e3})]})}}]),a}(n.Component),ie=se,le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,83)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))};c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(ie,{})}),document.getElementById("root")),le()},9:function(e,t,a){e.exports={searchbar:"SearchBar_searchbar__37okL",form:"SearchBar_form__2ZMxt",formbutton:"SearchBar_formbutton__2uVe_",formbuttonLabel:"SearchBar_formbuttonLabel__bXxpp",formInput:"SearchBar_formInput__2cPwH"}}},[[82,1,2]]]);
//# sourceMappingURL=main.ab65152b.chunk.js.map